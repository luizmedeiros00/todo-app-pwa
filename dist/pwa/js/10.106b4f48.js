(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{b57c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-cadastro-cliente"},[a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"bg-orange text-white "},[a("div",{staticClass:"text-h6"},[e._v("Cadastro Cliente")])]),a("q-card-section",[a("q-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.id,expression:"cliente.id"}],attrs:{type:"hidden"},domProps:{value:e.cliente.id},on:{input:function(t){t.target.composing||e.$set(e.cliente,"id",t.target.value)}}}),a("div",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{outlined:"",label:"Razão Social"},model:{value:e.cliente.razao_social,callback:function(t){e.$set(e.cliente,"razao_social",t)},expression:"cliente.razao_social"}}),a("q-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##","##.###.###/####-##"],expression:"['###.###.###-##', '##.###.###/####-##']"}],attrs:{outlined:"",label:"CPF ou CNPJ"},model:{value:e.cliente.cpfcnpj,callback:function(t){e.$set(e.cliente,"cpfcnpj",t)},expression:"cliente.cpfcnpj"}}),a("q-select",{attrs:{filled:"",options:e.segmentos,label:"Segmento"},model:{value:e.cliente.ramo,callback:function(t){e.$set(e.cliente,"ramo",t)},expression:"cliente.ramo"}}),a("q-input",{attrs:{outlined:"",label:"Contato"},model:{value:e.cliente.nome,callback:function(t){e.$set(e.cliente,"nome",t)},expression:"cliente.nome"}}),a("q-input",{attrs:{outlined:"",label:"Telefone"},model:{value:e.cliente.telefone,callback:function(t){e.$set(e.cliente,"telefone",t)},expression:"cliente.telefone"}}),a("q-input",{attrs:{outlined:"",label:"Email/Login"},model:{value:e.cliente.email,callback:function(t){e.$set(e.cliente,"email",t)},expression:"cliente.email"}}),a("q-input",{attrs:{type:"password",outlined:"",label:"Senha"},model:{value:e.cliente.password,callback:function(t){e.$set(e.cliente,"password",t)},expression:"cliente.password"}})],1)])],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{staticClass:"q-mt-md",attrs:{color:"grey",label:"Fechar"},on:{click:e.fechar}}),a("q-btn",{staticClass:"q-mt-md",attrs:{label:"Registrar",type:"submit",color:"primary"},on:{click:e.salvar}})],1)],1)],1)},i=[],s=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),r=a.n(s),c=a("967e"),o=a.n(c),l=(a("7f7f"),a("96cf"),a("fa84")),u=a.n(l),d=a("24e8"),p=a("0378"),m=(a("4d5a"),a("09e3"),a("9989"),a("f09f")),f=a("3a60"),h=a("bac0"),b=a("21fa"),v=a("7734");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={name:"ModalCadastroCliente",components:{QDialog:d["a"],QForm:p["a"]},directives:{mask:f["mask"]},props:["show","edit"],data:function(){return{cliente:{},users:[],usuarios:{},segmentos:["Comercio","Textil","Outros"],ClienteService:new b["a"],UserService:new h["a"],RegisterService:new v["a"]}},methods:{salvar:function(){var e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ClienteService.createOrUpdate(this.cliente);case 2:return console.log(this.cliente),e.next=5,this.ClienteService.ultimoRegistro();case 5:t=e.sent,console.log(t.id),this.usuarios.cliente_id=t.id,this.usuarios.name=this.cliente.razao_social,this.usuarios.email=this.cliente.email,this.usuarios.password=this.cliente.password,this.usuarios.tipo="Usuario",console.log(this.usuarios),this.RegisterService.createOrUpdate(this.usuarios),this.$q.notify({message:"Operação realizada com sucesso!",color:"green"}),this.$router.push("/login");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fechar:function(){this.$router.push("/login")},loadUsers:function(){var e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.UserService.list();case 2:t=e.sent,this.users=t.data.map((function(e){return{label:e.name,value:e.id}}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.loadUsers()},watch:{edit:function(e){this.cliente=w({},e)}}},O=C,y=a("2877"),x=a("eebe"),k=a.n(x),q=a("a370"),j=a("27f9"),S=a("ddd8"),$=a("4b7e"),P=a("9c40"),Q=Object(y["a"])(O,n,i,!1,null,null,null);t["default"]=Q.exports;k()(Q,"components",{QCard:m["a"],QCardSection:q["a"],QForm:p["a"],QInput:j["a"],QSelect:S["a"],QCardActions:$["a"],QBtn:P["a"]})}}]);