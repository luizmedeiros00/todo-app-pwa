(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0b0d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lista-usuario"},[a("q-page",{attrs:{padding:""}},[a("q-table",{attrs:{title:"Lista de Usuarios",data:t.usuarios,columns:t.columns,"row-key":"id","hide-bottom":"","rows-per-page-options":[0],pagination:t.pagination,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-id",fn:function(t){return a("q-td",{attrs:{props:t}},[a("q-icon",{attrs:{name:"person",size:"1.5rem",color:"gray"}})],1)}},{key:"body-cell-tipo",fn:function(e){return a("q-td",{attrs:{props:e}},[a("q-badge",{attrs:{color:t.getColorTipo(e.row.tipo),dark:""}},[t._v(t._s(e.row.tipo))])],1)}},{key:"body-cell-action",fn:function(e){return a("q-td",{attrs:{props:e}},[a("q-btn",{attrs:{color:"primary",flat:"",icon:"edit"},on:{click:function(a){return t.edit(e.row)}}}),a("q-btn",{attrs:{color:"red",flat:"",icon:"delete"},on:{click:function(a){return t.showModalDelete(e.row)}}})],1)}}])}),a("paginacao",{attrs:{last_page:t.lastPage,current_page:t.currentPage},on:{input:function(e){return t.load(e)}}}),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary"},on:{click:function(e){t.showModal=!0}}})],1)],1),a("modal-cadastro",{attrs:{edit:t.editarUsuario,show:t.showModal},on:{fechar:t.fecharModal,salvar:function(e){return t.onSubmit(e)}}}),a("modal-delete",{attrs:{dialog:t.showDeleteModal,item:t.editarUsuario},on:{fechar:function(e){t.showDeleteModal=!1},deletar:function(e){return t.deletar(e)}}})],1)},n=[],o=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("386d"),a("967e")),i=a.n(o),s=(a("96cf"),a("fa84")),c=a.n(s),u=a("c47a"),l=a.n(u),p=a("9989"),d=a("eaac"),f=a("de5e"),h=a("74f7"),m=a("bac0"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-cadastro-usuario"},[a("q-dialog",{attrs:{value:t.show},on:{input:t.fechar}},[a("q-card",{staticStyle:{width:"700px","max-width":"100vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Cadastro Usuario")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.id,expression:"usuario.id"}],attrs:{type:"hidden"},domProps:{value:t.usuario.id},on:{input:function(e){e.target.composing||t.$set(t.usuario,"id",e.target.value)}}}),a("div",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{outlined:"",label:"Nome"},model:{value:t.usuario.name,callback:function(e){t.$set(t.usuario,"name",e)},expression:"usuario.name"}}),a("q-input",{attrs:{outlined:"",label:"Email"},model:{value:t.usuario.email,callback:function(e){t.$set(t.usuario,"email",e)},expression:"usuario.email"}}),a("q-input",{attrs:{outlined:"",type:"password"},model:{value:t.usuario.password,callback:function(e){t.$set(t.usuario,"password",e)},expression:"usuario.password"}}),a("q-select",{attrs:{filled:"",options:t.tipo,label:"Tipo"},model:{value:t.usuario.tipo,callback:function(e){t.$set(t.usuario,"tipo",e)},expression:"usuario.tipo"}})],1)])],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{staticClass:"q-mt-md",attrs:{color:"grey",label:"Fechar"},on:{click:t.fechar}}),a("q-btn",{staticClass:"q-mt-md",attrs:{label:"Salvar",type:"submit",color:"primary"},on:{click:t.salvar}})],1)],1)],1)],1)},g=[],b=a("24e8"),w=a("0378");function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var x={name:"ModalCadastroUsuario",components:{QDialog:b["a"],QForm:w["a"]},props:["show","edit"],data:function(){return{tipo:["Administrador","Coordenador","Usuario"],usuario:{}}},methods:{salvar:function(){this.$emit("salvar",this.usuario)},fechar:function(){this.$emit("fechar")}},watch:{edit:function(t){this.usuario=q({},t)}}},O=x,k=a("2877"),P=a("eebe"),j=a.n(P),Q=a("f09f"),C=a("a370"),S=a("27f9"),D=a("ddd8"),_=a("4b7e"),M=a("9c40"),U=Object(k["a"])(O,v,g,!1,null,null,null),E=U.exports;j()(U,"components",{QDialog:b["a"],QCard:Q["a"],QCardSection:C["a"],QForm:w["a"],QInput:S["a"],QSelect:D["a"],QCardActions:_["a"],QBtn:M["a"]});var N=a("b83f"),$=a("f0e1");function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var T={name:"ListaUsuario",components:{QPage:p["a"],QTable:d["a"],QPageSticky:f["a"],ModalCadastro:E,ModalDelete:N["a"],QInnerLoading:h["a"],Paginacao:$["a"]},data:function(){return{loading:!1,currentPage:0,lastPage:0,UsuarioService:new m["a"],showModal:!1,showDeleteModal:!1,editarUsuario:{},usuarios:[],colors:{Administrador:function(){return"primary"},Coordenador:function(){return"amber"},Usuario:function(){return"gray"},default:function(){return"red"}},columns:[{name:"id",label:"",field:"id",align:"center"},{name:"name",label:"Nome",field:"name",align:"left"},{name:"email",label:"Email",field:"email",align:"left"},{name:"tipo",label:"Tipo",field:"tipo",align:"left"},{name:"action",label:"Ação",field:"action",align:"center"}],pagination:{page:1,rowsPerPage:0}}},methods:{getColorTipo:function(t){return(this.colors[t]||this.colors.default)()},edit:function(t){this.editarUsuario=A({},t),this.showModal=!0},onSubmit:function(){var t=c()(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.UsuarioService.createOrUpdate(e);case 2:this.load(),this.onReset(),this.fecharModal();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),load:function(){var t=c()(i.a.mark((function t(e){var a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.UsuarioService.search({},e);case 3:a=t.sent,this.loading=!1,this.lastPage=a.last_page,this.currentPage=a.current_page,this.usuarios=a.data;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onReset:function(){this.usuario={}},fecharModal:function(){this.editarUsuario={},this.showModal=!1},showModalDelete:function(t){this.editarUsuario=t,this.showDeleteModal=!0},deletar:function(){var t=c()(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.UsuarioService.remove(e.id);case 2:this.showDeleteModal=!1,this.load();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){this.load()}},L=T,B=a("db86"),J=a("0016"),F=a("58a8"),I=Object(k["a"])(L,r,n,!1,null,null,null);e["default"]=I.exports;j()(I,"components",{QPage:p["a"],QTable:d["a"],QTd:B["a"],QIcon:J["a"],QBadge:F["a"],QBtn:M["a"],QPageSticky:f["a"]})},aae0:function(t,e,a){"use strict";var r=a("967e"),n=a.n(r),o=(a("96cf"),a("fa84")),i=a.n(o),s=a("fc74"),c=a.n(s),u=a("c47a"),l=a.n(u),p=a("b383"),d=a.n(p),f=a("7104"),h=(a("ac6a"),a("cadf"),a("06db"),a("456d"),a("8993")),m=a.n(h),v=a("2a19");function g(t){v["a"].create({message:t,color:"red",icon:"announcement"})}function b(t){"string"===typeof t?g(t):"object"===m()(t)?Object.keys(t).forEach((function(e){g(t[e])})):g("Aconteceu algum erro")}var w=function(t){return t&&t!=={}?t.length>1?t:t[0].errorMessage:"Existem erros a serem processados"},y=function(t,e){var a={list:"Não foi possível realizar a listagem, tente mais tarde.",get:"Não foi possível realizar a consulta de ".concat(e,", tente mais tarde."),create:"Não foi possível realizar o cadastro, tente mais tarde.",update:"Não foi possível realizar a edição, tente mais tarde.",remove:"Não foi possível realizar a exclusão, tente mais tarde.",report:"Não foi possível realizar a geração do relatório, verifique sua consulta e tente novamente.",login:"Não foi possível realizar o login, tente mais tarde.",default:"Erro de verificação"};return a[t]||a.default},q=function(t,e,a){var r=t.data,n={400:function(){return w(r)},401:function(){return"Sessão expirada. Logue-se novamente"},404:function(){return"Endereço de acesso não encontrado"},422:function(){return r},500:function(){return y(e,a)},503:function(){return"Servidor indisponível. Tente novamente mais tarde"},default:function(){return"Erro de verificação do status da requisição"}};return(n[t.status]||n.default)()},x=function(t,e,a){var r=JSON.parse(JSON.stringify(t)),n=r.response;return navigator.onLine?n?b(q(n,e,a)):new Error("Servidor indisponivel, tente mais tarde"):new Error("Sem acesso à internet, por favor, tente mais tarde")};a.d(e,"a",(function(){return O}));var O=function t(e){var a=this;c()(this,t),l()(this,"list",i()(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].get(a.api);case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t["catch"](0),x(t.t0,"list");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),l()(this,"show",function(){var t=i()(n.a.mark((function t(e){var r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].get("".concat(a.api,"/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),x(t.t0,"get","item");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"create",function(){var t=i()(n.a.mark((function t(e){var r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].post(a.api,e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),x(t.t0,"create");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"update",function(){var t=i()(n.a.mark((function t(e){var r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].put("".concat(a.api,"/").concat(e.id),e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),x(t.t0,"update");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"remove",function(){var t=i()(n.a.mark((function t(e){var r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].delete("".concat(a.api,"/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),x(t.t0,"remove");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"search",i()(n.a.mark((function t(){var e,r,o,i,s,c=arguments;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},r=c.length>1?c[1]:void 0,o=e?"&".concat(a.queryString.stringify(e)):"",i=r||1,t.prev=4,t.next=7,f["a"].get("".concat(a.api,"/?page=").concat(i).concat(o));case 7:return s=t.sent,t.abrupt("return",s.data);case 11:throw t.prev=11,t.t0=t["catch"](4),x(t.t0,"get","item");case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))),l()(this,"createOrUpdate",function(){var t=i()(n.a.mark((function t(e){var r,o,i,s;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.id?"put":"post",o=e.id?"/".concat(e.id):"",i="".concat(a.api).concat(o),t.prev=3,t.next=6,f["a"][r](i,e);case 6:return s=t.sent,t.abrupt("return",s.data);case 10:throw t.prev=10,t.t0=t["catch"](3),x(t.t0,"create");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"totalAtividades",i()(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].get("".concat(a.api,"/total"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t["catch"](0),x(t.t0,"list");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),this.api=e,this.http=f["a"],this.queryString=d.a}},b83f:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-delete"},[a("q-dialog",{attrs:{value:t.dialog,persistent:""},on:{input:t.fechar}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"warning",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("Deseja excluir este registro?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Não",color:"primary"}}),a("q-btn",{attrs:{flat:"",label:"Sim",color:"primary"},on:{click:t.confirm}})],1)],1)],1)],1)},n=[],o={name:"ModalDelete",props:["item","dialog"],methods:{confirm:function(){this.$emit("deletar",this.item)},fechar:function(){this.$emit("fechar")}}},i=o,s=a("2877"),c=a("eebe"),u=a.n(c),l=a("24e8"),p=a("f09f"),d=a("a370"),f=a("cb32"),h=a("4b7e"),m=a("9c40"),v=a("7f67"),g=Object(s["a"])(i,r,n,!1,null,null,null);e["a"]=g.exports;u()(g,"components",{QDialog:l["a"],QCard:p["a"],QCardSection:d["a"],QAvatar:f["a"],QCardActions:h["a"],QBtn:m["a"]}),u()(g,"directives",{ClosePopup:v["a"]})},bac0:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var r=a("fc74"),n=a.n(r),o=a("6430"),i=a.n(o),s=a("ffe3"),c=a.n(s),u=a("37d9"),l=a.n(u),p=a("aae0"),d=function(t){function e(){return n()(this,e),i()(this,c()(e).call(this,"/usuarios"))}return l()(e,t),e}(p["a"])},f0e1:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-lg flex flex-center"},[a("q-pagination",{attrs:{value:t.current_page,color:"orange-8",max:t.last_page,"boundary-links":!0},on:{input:function(e){return t.onPageChange(e)}}})],1)},n=[],o=(a("c5f6"),a("3b16")),i={components:{QPagination:o["a"]},props:{last_page:{type:Number,required:!0},current_page:{type:Number,required:!0}},methods:{onPageChange:function(t){this.$emit("input",t)}}},s=i,c=a("2877"),u=a("eebe"),l=a.n(u),p=Object(c["a"])(s,r,n,!1,null,null,null);e["a"]=p.exports;l()(p,"components",{QPagination:o["a"]})}}]);